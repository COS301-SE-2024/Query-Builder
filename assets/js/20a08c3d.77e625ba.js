"use strict";(self.webpackChunkquery_builder_docs=self.webpackChunkquery_builder_docs||[]).push([[292],{7681:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var t=s(6070),r=s(5710);const i={title:"Coding standards",description:"Coding standards for the Query Builder Application"},o="Coding Standards",l={id:"guides-and-standards/coding-standards",title:"Coding standards",description:"Coding standards for the Query Builder Application",source:"@site/docs/guides-and-standards/coding-standards.md",sourceDirName:"guides-and-standards",slug:"/guides-and-standards/coding-standards",permalink:"/Query-Builder/docs/guides-and-standards/coding-standards",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Coding standards",description:"Coding standards for the Query Builder Application"},sidebar:"tutorialSidebar",previous:{title:"Guides and Standards",permalink:"/Query-Builder/docs/category/guides-and-standards"},next:{title:"Git flow",permalink:"/Query-Builder/docs/guides-and-standards/git-flow"}},a={},d=[{value:"General",id:"general",level:2},{value:"General styling rules",id:"general-styling-rules",level:3},{value:"File and folder naming conventions",id:"file-and-folder-naming-conventions",level:3},{value:"Documenting code / Code comments",id:"documenting-code--code-comments",level:2},{value:"HTML (including custom components)",id:"html-including-custom-components",level:2},{value:"CSS",id:"css",level:2},{value:"Typescript",id:"typescript",level:2},{value:"Why do we need guidelines",id:"why-do-we-need-guidelines",level:2},{value:"Structure of a guideline",id:"structure-of-a-guideline",level:3},{value:"If usually needs an else",id:"if-usually-needs-an-else",level:2},{value:"Example",id:"example",level:3},{value:"Notes",id:"notes",level:3},{value:"Examples",id:"examples",level:3},{value:"Switch should rarely fall through and usually has a default",id:"switch-should-rarely-fall-through-and-usually-has-a-default",level:2},{value:"Don&#39;t use <code>break</code> or <code>continue</code> in loops unless there is no other way.",id:"dont-use-break-or-continue-in-loops-unless-there-is-no-other-way",level:2},{value:"Reasons",id:"reasons",level:3},{value:"Examples",id:"examples-1",level:3},{value:"Exceptions",id:"exceptions",level:3},{value:"Failures should be visible",id:"failures-should-be-visible",level:2},{value:"Example",id:"example-1",level:3},{value:"Functions always do things, ALWAYS",id:"functions-always-do-things-always",level:2},{value:"Examples",id:"examples-2",level:3},{value:"Notes",id:"notes-1",level:3},{value:"Exceptions",id:"exceptions-1",level:3},{value:"Avoid using <code>innerHTML</code> or <code>innerText</code> to modify the DOM, prefer <code>textContent</code> instead.",id:"avoid-using-innerhtml-or-innertext-to-modify-the-dom-prefer-textcontent-instead",level:2},{value:"Note",id:"note",level:3},{value:"References",id:"references",level:3},{value:"There are no special numbers, and none of them are magical",id:"there-are-no-special-numbers-and-none-of-them-are-magical",level:2},{value:"Express intent where possible",id:"express-intent-where-possible",level:2},{value:"Why we need principles",id:"why-we-need-principles",level:2},{value:"SDLC (and what we need to do better)",id:"sdlc-and-what-we-need-to-do-better",level:2},{value:"Domain and language",id:"domain-and-language",level:2},{value:"Code",id:"code",level:2},{value:"GUI Design",id:"gui-design",level:2},{value:"REST API Design",id:"rest-api-design",level:2},{value:"Security",id:"security",level:2},{value:"Testing",id:"testing",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",del:"del",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"coding-standards",children:"Coding Standards"}),"\n",(0,t.jsx)(n.h2,{id:"general",children:"General"}),"\n",(0,t.jsx)(n.h3,{id:"general-styling-rules",children:"General styling rules"}),"\n",(0,t.jsxs)(n.p,{children:["General styling source code rules are enforced using ",(0,t.jsx)(n.a,{href:"https://prettier.io/",children:"Prettier"})," for which there is a ",(0,t.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode",children:"VSCode plugin"}),". The VSCode workspace file will recommend the installation of the appropriate plugin."]}),"\n",(0,t.jsx)(n.p,{children:"Prettier can also be run from the command line, enabling the addition of a git hook to enforce styling rules."}),"\n",(0,t.jsxs)(n.p,{children:["Prettier configuration file (",(0,t.jsx)(n.code,{children:".prettierrc.json"}),") can be found in the root folder of the ",(0,t.jsx)(n.code,{children:"Query-Builder"})," repository."]}),"\n",(0,t.jsxs)(n.p,{children:["Please note that prettier is used for ",(0,t.jsx)(n.strong,{children:"formatting rules only"}),". An appropriate linter for all languages used should still be in place. See ",(0,t.jsx)(n.a,{href:"https://prettier.io/docs/en/comparison.html",children:"this documentation"})," for details on the difference."]}),"\n",(0,t.jsx)(n.h3,{id:"file-and-folder-naming-conventions",children:"File and folder naming conventions"}),"\n",(0,t.jsx)(n.p,{children:"File and folder names should be lower-kebab-case wherever possible."}),"\n",(0,t.jsxs)(n.p,{children:["The reason uppercase letters may become a problem is that all filesystems are not case sensitive, and there are additional complexities when you include ",(0,t.jsx)(n.code,{children:"git"}),"'s peculiarities when considering file and folder names."]}),"\n",(0,t.jsxs)(n.p,{children:["For example, on windows systems ",(0,t.jsx)(n.code,{children:"thisIsAFile.js"})," and ",(0,t.jsx)(n.code,{children:"thisisafile.js"})," are considered equivalent, but those would be considered to be separate distinct names on non-windows systems (macOS and Linux variants)."]}),"\n",(0,t.jsxs)(n.p,{children:["There are also myriad of configuration settings that change how ",(0,t.jsx)(n.code,{children:"git"})," handles case differences in the ",(0,t.jsx)(n.code,{children:"git"})," repo, and how the source control system manages the differences between operating systems. To avoid issues, the simplest solution for programming languages that do not depend on a particular style of file names (like JS and TS) is to enforce lower-kebab-case."]}),"\n",(0,t.jsx)(n.p,{children:"This would obviously not be a valid convention for Java source code but is reasonable in a JS/TS codebase."}),"\n",(0,t.jsx)(n.h2,{id:"documenting-code--code-comments",children:"Documenting code / Code comments"}),"\n",(0,t.jsxs)(n.p,{children:["Please read the start of ",(0,t.jsx)(n.a,{href:"https://blog.bitsrc.io/documenting-your-typescript-projects-there-are-options-da7c8c4ec554",children:"this article"}),", specifically, the section ",(0,t.jsx)(n.em,{children:"Good code does not need documentation"}),"   and consider whether your code needs documentation or comments, and if it does, make sure the documentation and comments are useful and worthwhile."]}),"\n",(0,t.jsx)(n.h2,{id:"html-including-custom-components",children:"HTML (including custom components)"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"All HTML element tags and attributes will be lowercase only, words in identifiers are split using kebab-case."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Correct"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<my-component data-attribute="some value"></my-component>\n'})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Incorrect"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<myComponent DataAttribute="some value"></myComponent>\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"All elements will be explicitly closed (especially empty elements) to ensure all HTML is also valid XML."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Correct"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<my-component data-attribute="some value"></my-component>\n<my-component data-attribute="some value"/>\n'})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Never"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",children:'<my-component data-attribute="some value">\n'})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"css",children:"CSS"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"All CSS classes and other identifiers will be in lowercase only and words split using kebab-case."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Correct"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",children:".my-item {...}\n\n#my-id {...}\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Incorrect"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-css",children:".MyItem {...}\n.myItem {...}\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"typescript",children:"Typescript"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Prepend unused variables with ",(0,t.jsx)(n.code,{children:"_"})," to indicate it was unused on purpose."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Correct"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"router.get(\n'my-route-name',\nhandle_errors(async (_req, res) => {\n    // do stuff here and never use the request variable\n})\n);\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Incorrect"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"router.get(\n'my-route-name',\nhandle_errors(async (req, res) => {\n    // do stuff here and never use the request variable\n})\n);\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Don't ",(0,t.jsx)(n.code,{children:"return await somePromise"})," in an ",(0,t.jsx)(n.code,{children:"async"})," function, you can just return the promise as a value instead. No need to wait for it to complete, just to wrap it in a new promise (which is what ",(0,t.jsx)(n.code,{children:"async"})," functions will do automatically where needed)."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Correct"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const findSiteId = async (tx, url) => {\nlet site = await getSiteForUrl(url);\nreturn getIdForSite(site);\n}\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Incorrect"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const findSiteId = async (tx, url) => {\nlet site = await getSiteForUrl(url);\nreturn await getIdForSite(site);\n}\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Constructors and class names will be CamelCase starting with a capital letter (basically, this means all ",(0,t.jsx)(n.strong,{children:"types"})," are defined with upper initial camel case)."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Correct"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// Modern class \nclass MyComponentClass {...}\n// Older style JS constructor function\nfunction MyComponentClass() {...}\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Incorrect"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// Modern class \nclass myComponentClass {...}\n// Older style JS constructor function\nfunction myComponentClass() {...}\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"All properties and top-level objects (including functions) will be named in camelCase starting with a lowercase letter."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Correct"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// Modern class \nclass MyComponentClass {\nconstructor(){\n    this.aProperty=...\n    this.anArrowFunction=()=>{...}\n}\n\nfunction aFunction(){...}\n}\n\nlet anObject = {\naProperty: ...,\naFunction: function(){...},\nanArrow: () => {...}\n}\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Throw errors not strings or objects"}),"\n",(0,t.jsx)(n.p,{children:"Reasons:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["The Javascript ",(0,t.jsx)(n.code,{children:"Error"})," type has useful properties for debugging and bug tracking (such as the type of the error, name, message, and [sometimes] stack traces)"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Testing frameworks assume you will throw errors. For instance, the ",(0,t.jsx)(n.code,{children:"chai"})," assertion library cannot check whether the correct string was thrown."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Checking the type of error does not have to resort to ",(0,t.jsx)(n.em,{children:"magic strings"})," and can instead use sub-classing of the ",(0,t.jsx)(n.code,{children:"Error"})," type."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Incorrect"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"if(param<=0){\nthrow 'Parameter has to be greater than 0';\n}\n\nif(!!someValue){\nthrow {message:\"Somevalue is undefined\"};\n}\n"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Correct"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"if(param<=0){\nthrow new Error('Parameter has to be greater than 0');\n}\n\n// chai can test this function for throwing the correct errors\nexpect(myFunnction).to.throw('Parameter has to be greater than 0');\n\nclass InvalidParameterError extends Error {\nconstructor(message, options={}){\nsuper(message, options);\n}\n}\n\nif(param<=0){\nthrow new InvalidParameterError(\"Parameter 'param' has to be greater than 0\");\n// logs will show Uncaught InvalidParameterError: arameter 'param' has to be greater than 0\n}\n\n// catching custom errors\ntry{\n...\n} catch(err){\nif(e instanceof InvalidParameterError){\n    // type checks can be done by babel, webpack, linting tools and the typescript compiler\n    // but if(e==='Parameter has to be greater than 0') magic string cannot be checked \n}\n}\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h1,{id:"guidelines",children:"Guidelines"}),"\n",(0,t.jsx)(n.h2,{id:"why-do-we-need-guidelines",children:"Why do we need guidelines"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"We want to try to avoid common bugs / issues"}),"\n",(0,t.jsx)(n.li,{children:"We want new members of our team to not be surprised at the way the system works"}),"\n",(0,t.jsx)(n.li,{children:"Some guidelines aim to increase various forms of correctness while others aim to reduce the likelihood of accidents, some do both"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Comments and suggestions for improvements are most welcome"}),"\n",(0,t.jsx)(n.h3,{id:"structure-of-a-guideline",children:"Structure of a guideline"}),"\n",(0,t.jsx)(n.p,{children:"Each guideline (suggestion) can have several parts:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The rule itself \u2013 e.g., an if usually needs an else"}),"\n",(0,t.jsx)(n.li,{children:"Reasons (rationales) \u2013 to make it easier for developers to understand why"}),"\n",(0,t.jsx)(n.li,{children:"Notes"}),"\n",(0,t.jsx)(n.li,{children:"Examples \u2013 concepts are hard to understand in the abstract, so let's make them concrete"}),"\n",(0,t.jsx)(n.li,{children:"Alternatives \u2013 for \u201cdon\u2019t do this\u201d rules"}),"\n",(0,t.jsx)(n.li,{children:"Exceptions \u2013 many rules apply widely, but not universally, so exceptions must be listed"}),"\n",(0,t.jsx)(n.li,{children:"See also \u2013 references to related rules and/or further discussion (in this document or elsewhere)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"if-usually-needs-an-else",children:"If usually needs an else"}),"\n",(0,t.jsxs)(n.p,{children:["Whenever you write an ",(0,t.jsx)(n.code,{children:"if"}),", consider whether there is a consequence to not adding an ",(0,t.jsx)(n.code,{children:"else"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Once you have considered it, and you are ",(0,t.jsx)(n.em,{children:"really"}),", ",(0,t.jsx)(n.strong,{children:"really"}),", ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"really"})})," sure why there does not need to be an ",(0,t.jsx)(n.code,{children:"else"}),", put in the ",(0,t.jsx)(n.code,{children:"else"})," and make a comment on why it is ",(0,t.jsx)(n.em,{children:"really"}),", ",(0,t.jsx)(n.strong,{children:"really"}),", ",(0,t.jsx)(n.em,{children:(0,t.jsx)(n.strong,{children:"really"})})," not necessary."]}),"\n",(0,t.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"function square(x){\n    if(Number.isFinite(x)){\n        return x*x;\n    }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["In this case, the square function will sometimes return ",(0,t.jsx)(n.code,{children:"undefined"}),". Considering that consequence, better options could be:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"/*\nMake the failure clear - error when not a finite number.\nsquare('4') is an error :)\n*/\nfunction square(x){\n  if(Number.isFinite(x)){\n    return x*x;\n  } else {\n    throw Error('Only squaring of finite numbers allowed');\n  }\n}\n\n// or\n\n/*\nLet the platform handle it - return NaN when the parameter is bad.\nsquare('4') is 16 though :(\n*/\nfunction square(x){\n    return x*x;\n}\n"})}),"\n",(0,t.jsxs)(n.h1,{id:"the-ternary-operator-is-not-a-replacement-for-the-if-statement",children:["The ternary operator is not a replacement for the ",(0,t.jsx)(n.code,{children:"if"})," statement."]}),"\n",(0,t.jsxs)(n.p,{children:["The ternary operator should ",(0,t.jsx)(n.strong,{children:"only"})," be used for choosing a value based on a predicate, not for branching code paths."]}),"\n",(0,t.jsx)(n.h3,{id:"notes",children:"Notes"}),"\n",(0,t.jsxs)(n.p,{children:["The ternary operator shouldn't be used for ",(0,t.jsx)(n.em,{children:"branching"}),", since it indicates the intent that the ",(0,t.jsx)(n.em,{children:"result"})," of a ternary expression is important."]}),"\n",(0,t.jsx)(n.p,{children:"Not only does it make understanding the code harder, but the Javascript interpreter also does NOT treat them as logically equivalent."}),"\n",(0,t.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.p,{children:"The below code snippets are NOT logically equivalent"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"if(someValue){\n    doStuff();\n} else {\n    doOtherStuff();\n}\n\n// incorrect use of the ternary operator for branching\nsomeValue?doStuff():doOtherStuff();\n"})}),"\n",(0,t.jsxs)(n.p,{children:["In the incorrect usage, the result of ",(0,t.jsx)(n.code,{children:"doStuff()"})," and ",(0,t.jsx)(n.code,{children:"doOtherStuff()"})," is being returned to the calling function, and then ignored, because the result of the ternary operator is being ignored."]}),"\n",(0,t.jsx)(n.h2,{id:"switch-should-rarely-fall-through-and-usually-has-a-default",children:"Switch should rarely fall through and usually has a default"}),"\n",(0,t.jsxs)(n.p,{children:["Whenever you see fall-throughs in a ",(0,t.jsx)(n.code,{children:"switch"}),", consider whether there is a chance that it could cause headaches in the future."]}),"\n",(0,t.jsx)(n.p,{children:"Consider whether there is a sane default or even a sane exception for cases not explicit in the switch."}),"\n",(0,t.jsxs)(n.h2,{id:"dont-use-break-or-continue-in-loops-unless-there-is-no-other-way",children:["Don't use ",(0,t.jsx)(n.code,{children:"break"})," or ",(0,t.jsx)(n.code,{children:"continue"})," in loops unless there is no other way."]}),"\n",(0,t.jsx)(n.h3,{id:"reasons",children:"Reasons"}),"\n",(0,t.jsxs)(n.p,{children:["For loops with ",(0,t.jsx)(n.code,{children:"break"})," and ",(0,t.jsx)(n.code,{children:"continue"})," are hard to reason about, especially when the break/continue is embedded inside a conditional. Rather make your intent clear in the conditional."]}),"\n",(0,t.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,t.jsx)(n.p,{children:"Below is an example of code that is hard to follow, because it does the opposite of what 'description' says."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"function saveUsersIfTheyDoesNotExist(users){\n  for(let user of users){\n    let userExists = doesUserExist(user);\n    if (userExists) {\n      continue;\n    } \n    saveUser(user);\n  }\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The code above clearly states to save the users when they do not exist, but the code does not match that 'intent'. Logically, the code above has the same effect as the corrected code below, but when reading code quickly, it can be easy to get confused. The code below has the added bonus of not needing ",(0,t.jsx)(n.code,{children:"break"})," or ",(0,t.jsx)(n.code,{children:"continue"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"function saveUsersIfTheyDoesNotExist(users){\n  for(let user of users){\n    let userExists = doesUserExist(user);\n    if (!userExists) {\n       saveUser(user);\n    } \n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"exceptions",children:"Exceptions"}),"\n",(0,t.jsxs)(n.p,{children:["There are cases (probably only in deeply nested loops - which are a problem all their own) where the use of ",(0,t.jsx)(n.code,{children:"break"})," or ",(0,t.jsx)(n.code,{children:"continue"})," cannot be avoided."]}),"\n",(0,t.jsx)(n.h2,{id:"failures-should-be-visible",children:"Failures should be visible"}),"\n",(0,t.jsx)(n.p,{children:"Don't hide failures in logging or quiet ignorance, unless the failure is catastrophic, in which case the application should halt."}),"\n",(0,t.jsx)(n.h3,{id:"example-1",children:"Example"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Can't connect to the database - stop allowing the user to interact (or design your process not to require database access)."}),"\n",(0,t.jsx)(n.li,{children:"Someone passed a bad input value (to a function / API call / whatever) - make the function fail and tell that someone what valid values look like."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"functions-always-do-things-always",children:"Functions always do things, ALWAYS"}),"\n",(0,t.jsx)(n.p,{children:"Don't write a function that does absolutely nothing in some cases, or at least make it error when it ends up not doing anything."}),"\n",(0,t.jsx)(n.h3,{id:"examples-2",children:"Examples"}),"\n",(0,t.jsxs)(n.p,{children:["Given that your function name is ",(0,t.jsx)(n.code,{children:"retrieveUser"})," to get a user's details from some database. The function has an input parameter of the user's database key. Keys are always strictly positive integers. You have a couple of options to ensure people who need to use your function aren't caught by surprise when they don't use the function as you intended."]}),"\n",(0,t.jsx)(n.p,{children:"Options are:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Explicitly check whether the key is negative, undefined, null (or a string in one of those languages that don't honour types). The function should fail (exception/error). In addition, it could return a special response or even an empty thing (choose your flavour based on the language you are using). Don't just quietly ignore the fact that the developer using your function wanted it to do something."}),"\n",(0,t.jsx)(n.li,{children:"Don't explicitly validate input, and make sure that a valid value is returned."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"notes-1",children:"Notes"}),"\n",(0,t.jsx)(n.p,{children:"This rule is especially important for so-called 'void' functions that have side effects. It is very common in (some) reactive systems and (some) event-driven systems to fire off a request/event and notify me of the result through a reactive state somewhere. In these systems, you should definitely check validity before sending off the event, or you have to ensure that failures can be communicated to the caller properly as part of the asynchronously fired event."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"function retrieveUser(id){\n  if(id && id>0){\n    // do some database retrieval and update state with the value \n  } else {\n     throw Error('Invalid Id'); \n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"exceptions-1",children:"Exceptions"}),"\n",(0,t.jsxs)(n.p,{children:["A common exception to this rule is logging. Many logging functions will do nothing based on log levels and other ",(0,t.jsx)(n.em,{children:"global"})," state. It is horrible, but that's how it is."]}),"\n",(0,t.jsxs)(n.h2,{id:"avoid-using-innerhtml-or-innertext-to-modify-the-dom-prefer-textcontent-instead",children:["Avoid using ",(0,t.jsx)(n.code,{children:"innerHTML"})," or ",(0,t.jsx)(n.code,{children:"innerText"})," to modify the DOM, prefer ",(0,t.jsx)(n.code,{children:"textContent"})," instead."]}),"\n",(0,t.jsxs)(n.p,{children:["Due to ",(0,t.jsx)(n.code,{children:"innerHTML"})," parsing and setting HTML, it is possible to inject scripts into the DOM. Even though this is usually safe, there is no reason to have to consider the safety of the statement, if an alternative, such as ",(0,t.jsx)(n.code,{children:"textContent"})," exists."]}),"\n",(0,t.jsxs)(n.p,{children:["The performance penalty of using ",(0,t.jsx)(n.code,{children:"innerText"})," instead of ",(0,t.jsx)(n.code,{children:"textContent"})," is also well established."]}),"\n",(0,t.jsx)(n.h3,{id:"note",children:"Note"}),"\n",(0,t.jsxs)(n.p,{children:["There are some cases when one does just want to alter the ",(0,t.jsx)(n.code,{children:"innerText"})," and not the entire ",(0,t.jsx)(n.code,{children:"textContent"}),". For example: when the ",(0,t.jsx)(n.code,{children:"HTMLElement"})," contains both text and other elements, ",(0,t.jsx)(n.code,{children:"innerText"})," would replace the text but not the other elements. This can be solved by nesting the text in an additional ",(0,t.jsx)(n.code,{children:"HTMLElement"})," to avoid using ",(0,t.jsx)(n.code,{children:"innerText"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"references",children:"References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.a,{href:"https://blog.cloudboost.io/why-textcontent-is-better-than-innerhtml-and-innertext-9f8073eb9061",children:["Why ",(0,t.jsx)(n.code,{children:"textContent"})," is better than ",(0,t.jsx)(n.code,{children:"innerHTML"})," and ",(0,t.jsx)(n.code,{children:"innerText"}),"?"]})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsxs)(n.a,{href:"https://kellegous.com/j/2013/02/27/innertext-vs-textcontent/",children:[(0,t.jsx)(n.code,{children:"innerText"})," vs. ",(0,t.jsx)(n.code,{children:"textContent"})]})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"there-are-no-special-numbers-and-none-of-them-are-magical",children:"There are no special numbers, and none of them are magical"}),"\n",(0,t.jsx)(n.p,{children:"This is self explanatory, but you can investigate what it means and update this page if you want."}),"\n",(0,t.jsx)(n.h2,{id:"express-intent-where-possible",children:"Express intent where possible"}),"\n",(0,t.jsx)(n.p,{children:"For instance, when looping over elements of some collection, the idea of the element's index in the collection is usually unimportant. Use a for-each-in-collection construct instead of a for-each-index-of-collection construct"}),"\n",(0,t.jsx)(n.h1,{id:"principles",children:"Principles"}),"\n",(0,t.jsx)(n.h2,{id:"why-we-need-principles",children:"Why we need principles"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"When someone leaves, we (as a team) lose their domain expertise and may struggle to support and debug features developed by former team-members"}),"\n",(0,t.jsx)(n.li,{children:"Due to the momentum at which we often have to deliver features, we tend to skip steps and buggy or unmaintainable code reaches the production system"}),"\n",(0,t.jsx)(n.li,{children:"Due to the momentum, we often deliver MVP features that need to be repeatedly overhauled whenever small additional features are required."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"sdlc-and-what-we-need-to-do-better",children:"SDLC (and what we need to do better)"}),"\n",(0,t.jsx)(n.p,{children:"We should always know where in the Debt Quadrant our development falls."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://martinfowler.com/bliki/images/techDebtQuadrant.png",alt:"Tehcnical Debt"})}),"\n",(0,t.jsx)(n.h2,{id:"domain-and-language",children:"Domain and language"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Make sure that the names chosen for things are well understood amongst all stakeholders"}),"\n",(0,t.jsx)(n.li,{children:"If necessary, document the names chosen"}),"\n",(0,t.jsx)(n.li,{children:"Make sure the processes are well understood by all the stakeholders"}),"\n",(0,t.jsx)(n.li,{children:"If necessary, document the processes"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"code",children:"Code"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://miro.medium.com/max/638/1*ku5a8sk61smgtNYbfU7SLw.jpeg",alt:"BobMartinBoyscout"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Follow ",(0,t.jsx)(n.a,{href:"https://github.com/97-things/97-things-every-programmer-should-know/blob/master/en/thing_08/README.md",children:"the boy scout rule"}),". Keep your code (and your git history clean)."]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/97-things/97-things-every-programmer-should-know/blob/master/en/thing_01/README.md",children:"Act with prudence"})}),"\n",(0,t.jsxs)(n.li,{children:["Keep your development ",(0,t.jsx)(n.a,{href:"https://github.com/97-things/97-things-every-programmer-should-know/blob/master/en/thing_05/README.md",children:"as simple as possible, and no simpler"})," (",(0,t.jsx)(n.em,{children:"we don't know whether Einstein actually said that or not, but it makes sense"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/97-things/97-things-every-programmer-should-know/blob/master/en/thing_13/README.md",children:"Code Layout Matters"}),", so does git commit layout. Look at your git graph before pushing."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/97-things/97-things-every-programmer-should-know/blob/master/en/thing_11/README.md",children:"Code in the Language of the Domain"})," wherever possible"]}),"\n",(0,t.jsxs)(n.li,{children:["Don't Touch that File! - Do not commit changes to a line of a file you did not make on purpose!","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The rule is, if you touched it last, you are responsible!"}),"\n",(0,t.jsx)(n.li,{children:"If the last person to commit to a file/line was you, you maintain it and you are responsible for fixing it when things inevitably break."}),"\n",(0,t.jsx)(n.li,{children:"If your code editor automagically formatted the whole file, but you only meant to add one line, then turn off your formatter and re-apply the change. Commit only the one line you meant to touch."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/97-things/97-things-every-programmer-should-know/blob/master/en/thing_47/README.md",children:"Know Your Next Commit"})," - in other words - know what you will be touching/adding/deleting/changing for the current ticket you are working on.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"When you start with a ticket, make sure the first thing you do is investigate and understand what you will need to do."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Understand ",(0,t.jsx)(n.a,{href:"https://martinfowler.com/bliki/TechnicalDebtQuadrant.html",children:"Technical Debt"})]}),"\n",(0,t.jsxs)(n.li,{children:["Learn to ",(0,t.jsx)(n.a,{href:"https://github.com/97-things/97-things-every-programmer-should-know/blob/master/en/thing_84/README.md",children:"think about states"}),", and better yet, learn to think about the overall process and how it affects the state."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.a,{href:"https://github.com/97-things/97-things-every-programmer-should-know/blob/master/en/thing_90/README.md",children:["Don't log ",(0,t.jsx)(n.del,{children:"too much"})," unless you absolutely need to"]}),"."]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/97-things/97-things-every-programmer-should-know/blob/master/en/thing_96/README.md",children:"You have to care about the code"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["I really would recommend reading the ",(0,t.jsx)(n.a,{href:"https://github.com/97-things/97-things-every-programmer-should-know/blob/master/en/SUMMARY.md",children:"97 things every programmer should know"}),". Though not all these things apply to every team, the lessons are worth knowing."]}),"\n",(0,t.jsx)(n.h2,{id:"gui-design",children:"GUI Design"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Principle of least astonishment - the user should never be confused as to what a button will do"}),"\n",(0,t.jsx)(n.li,{children:"Keep it simple"}),"\n",(0,t.jsx)(n.li,{children:"Keep it usable"}),"\n",(0,t.jsxs)(n.li,{children:["Ask 'What would the user do?', remember ",(0,t.jsx)(n.em,{children:"you"})," are ",(0,t.jsx)(n.strong,{children:"not"})," the [",(0,t.jsx)(n.em,{children:"only"}),"] user."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"rest-api-design",children:"REST API Design"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Follow naming conventions and HTTP method specifications from ",(0,t.jsx)(n.a,{href:"https://www.restapitutorial.com/",children:"REST API Turorial"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["URI's are for ",(0,t.jsx)(n.em,{children:"resources"})," and should never contain verbs like ",(0,t.jsx)(n.em,{children:"create"}),", ",(0,t.jsx)(n.em,{children:"update"}),", ",(0,t.jsx)(n.em,{children:"save"})," or ",(0,t.jsx)(n.em,{children:"delete"}),". The HTTP verb is responsible for that part."]}),"\n",(0,t.jsx)(n.li,{children:"URI's should never depend on capitalisation and should not be 'camelCase' or 'PascalCase'. For all multi-word resource names, lower-case 'kebab-case' is preferred."}),"\n",(0,t.jsxs)(n.li,{children:["If you want to learn about good error design for HTTP APIs, then read this ",(0,t.jsx)(n.a,{href:"https://datatracker.ietf.org/doc/html/rfc7807",children:"good (boring) old RFC7807"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Think like someone trying to hack or game the system at every step of the process"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Please refer to [Testing Policy]"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},5710:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var t=s(758);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);